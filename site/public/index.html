<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">


  <head>
	<meta name="generator" content="Hugo 0.83.1" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Nick&#39;s Blog &middot; It works on my machine.
    
  </title>

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0e">


    
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>
      Get ready for&hellip; DragonOps.
    </p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item  active " href="/">Home</a>
    <a class="sidebar-nav-item " href="/post">Posts</a><a class="sidebar-nav-item" href="/categories/" title="Categories">Categories</a>
    <a class="sidebar-nav-item " href="http://example.org/fixed/about/">About</a>
      </nav>

  <div class="sidebar-item">
    <p>&copy; 2021. All rights reserved.</p>
  </div>
</div>


    
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Nick&#39;s Blog</a>
            <small>It works on my machine.</small>
          </h3>
        </div>
      </div>

      <div class="container content">





<div class="posts">
  
    <div class="post">
        <h1 class="post-title"><a href="http://example.org/post/2021-04-21-how-to-learn-linux/">How To Learn Linux</a></h1>
        <span class="post-date">Apr 21 2021</span>
        <p>I often see the question &lsquo;How do I learn Linux?&rsquo;. It is usually from those who do not have access to professional work involving Linux. This is how I got start with Linux as a kid and how I usually respond to this question.</p>
<hr>
<h2 id="what-do-i-do-with-it">What Do I Do With It?</h2>
<p>Most people with any professional IT experience will tell you that your learning is accelerated considerably on the job. This is because you are spending at least a solid 40 hours a week dedicated to it, you probably have tasks which require you to persevere even when you&rsquo;re stumped and those tasks solve the problem of &lsquo;Well, what should I learn?&rsquo;.</p>
<p>The most common answer to this question that I see from other is something along the lines of &lsquo;Spin up a VM, install Ubuntu and play around&rsquo;.</p>
<p>I think this is bad advice when the goal is something general like &lsquo;learning Linux&rsquo;. The reason is that it is pretty painless to install Linux these days and once the installation is complete the user is not going to know what to do next in pursuit of their goal.</p>
<p>Linux is used to do things: host web sites, run software, power a workstation, etc.</p>
<p>Without something to do, the job is over once the installation is complete. Congratulations, you now have a Linux VM.</p>
<p>If you have a web site or app that needs hosting, I would suggest you start with that. Otherwise, read on.</p>
<h2 id="desktop-linux">Desktop Linux</h2>
<p>My first experience with Linux was Ubuntu 5.10 Breezy Badger. I was 13 and my only motivation was that Linux is what the cool kids were using and I wanted to be a cool kid too. Ubuntu was a bit of a revolution for the desktop space because it was so user-friendly. Still, as human-friendly as it was, it was common after an install to be greeted with: - Display resolution stuck at 800x600 - No audio and missing media codecs (couldn&rsquo;t play mp3 and other non-free formats) - No WiFi (maybe no Ethernet either) - Graphics card driver problems - Many other possibilities depending on your hardware.</p>
<p>So right away you had a decent list of things to fix and this is usually where your journey into the user forums and documentation began and what would give your first taste of that little hit of joy one experiences when you finally get something to work.</p>
<p>Today, almost everything on that list is a non-issue when using mainstream distributions like Ubuntu. While this is doubtlessly a positive advancement, it does remove some of the opportunities to get down and dirty for new users.</p>
<p>Nevertheless, I believe that using desktop Linux as your &ldquo;daily driver&rdquo; workstation operating system is the best way to get familiar with Linux as a new user.</p>
<blockquote>
<p>&ldquo;I Believe that using desktop Linux as your &ldquo;daily driver&rdquo; workstation operating system is the best way to get familiar with Linux&rdquo;</p>
</blockquote>
<p>When you are using Linux as your workstation OS, you will: - Encounter many opportunities to delve deeper as you attempt to find solutions for all of your day-to-day needs. - Discover the documentation and community sites that are relied on by everyone, including professionals. Through these sites you will see what other users are doing with their desktop Linux setups and become inspired - Be more likely to spontaneously explore the system - Become familiar with basic terminal usage, file system hierarchy, terminology and general &lsquo;philosophy&rsquo;</p>
<p>At some point you will get the urge to &lsquo;distro hop&rsquo;. This is where you, somewhat manically, try out new Linux distributions in search of a sort of holy grail. When you reach this state, I would encourage you to try &lsquo;harder&rsquo; distributions, such as Arch Linux, Gentoo or even Linux From Scratch. Ubuntu provides a nice friendly introduction but there are other distributions for more advanced users that will have you much closer to the system and place more responsibility on you as the administrator.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Be brave and install Linux to disk with the commitment that you will use it everyday for as much as possible. Windows (if you need it) is the one that should be virtualized or kept on a separate partition for dual booting.</p>
<p>When you do start working with Linux professionally you will find that Desktop Linux is quite rare, with most of the action happening on Linux servers that only provide command-line access. That is ok because it is still the same Linux and the system knowledge you gained as a desktop user will still be applicable. I would encourage you to make friends with the terminal early-on in your desktop adventures, as this is the direct path to the heart of a Linux system.</p>

    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="http://example.org/post/2021-04-10-foreman-freeipa/">Foreman and FreeIPA Realm Integration</a></h1>
        <span class="post-date">Apr 10 2021</span>
        <p>A configuration by which  hosts created with Foreman auto-join your FreeIPA Realm and registered as IPA hosts</p>
<blockquote>
<p>Note: This guide was originally written to target Redhat 7</p>
</blockquote>
<hr>
<h3 id="freeipa-host">FreeIPA Host</h3>
<p>We need to create an IPA user for foreman. I used <em>&ldquo;foreman-user&rdquo;</em> but you can choose something different if you&rsquo;d like. This article will assume <em>&ldquo;foreman-user&rdquo;</em>. Avoid foreman-proxy or other usernames that occur as users on the Foreman host. Assign this user the <strong>role</strong> of <em>Smart Proxy Host Manager</em>.</p>
<p>Before beginning, your Foreman host needs to be registered as an IPA host.</p>
<pre><code>$ ipa-client-install
</code></pre>
<p>We need to create a <strong>service</strong> for the Foreman proxy.</p>
<p>If you&rsquo;re using the FreeIPA webui:</p>
<blockquote>
<p><em>Identity</em> =&gt; <em>Services</em> =&gt; <em>&ldquo;add +&quot;</em></p>
</blockquote>
<h4 id="example">Example</h4>
<blockquote>
<p><a href="mailto:foremanproxy/foreman.example.com@EXAMPLE.COM">foremanproxy/foreman.example.com@EXAMPLE.COM</a></p>
</blockquote>
<hr>
<h3 id="foreman-host">Foreman Host</h3>
<p>You need to install the <code>ipa-admintools</code> package:</p>
<pre><code>$ yum install ipa-admintools
$ foreman-prepare-realm admin foreman-user
</code></pre>
<p>Now we need to edit some config files.</p>
<h5 id="etcforeman-proxysettingsdfreeipa_realmyml"><em>/etc/foreman-proxy/settings.d/freeipa_realm.yml</em></h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># /etc/foreman-proxy/settings.d/freeipa_realm.yml</span>

<span class="c1"># Authentication for Kerberos-based Realms</span>
:keytab_path: /etc/foreman-proxy/freeipa.keytab
:principal: foreman-user@EXAMPLE.COM

:ipa_config: /etc/ipa/default.conf
<span class="c1"># Remove from DNS when deleting the FreeIPA entry</span>
:remove_dns: <span class="nb">true</span>
</code></pre></div><h5 id="etcforeman-proxysettingsdrealmyml"><em>/etc/foreman-proxy/settings.d/realm.yml</em></h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># /etc/foreman-proxy/settings.d/realm.yml</span>

<span class="c1"># Can be true, false, or http/https to enable just one of the protocols</span>
:enabled: <span class="nb">true</span>

<span class="c1"># Available providers:</span>
<span class="c1">#   realm_ad</span>
<span class="c1">#   realm_freeipa</span>
:use_provider: realm_freeipa
</code></pre></div><hr>
<h3 id="freeipa-host-1">FreeIPA Host</h3>
<p>Copy the keytab from the IPA server, where <em>freeipa</em> is the hostname of your IPA server and <em>foremanproxy</em> is the name of the service:</p>
<pre><code>$ ipa-getkeytab -s freeipa.example.com -p foremanproxy/freeipa.example.com -k /etc/krb5.keytab *
</code></pre>
<p>Copy the keytab to the appropriate location.</p>
<pre><code>$ cp freeipa.keytab /etc/foreman-proxy/freeipa.keyab
</code></pre>
<p>Make the foreman-proxy user owner and set correct permissions.</p>
<pre><code>$ chown foreman-proxy /etc/foreman-proxy/freeipa.leytab
$ chmod 600 /etc/foreman-proxy/freeipa.keytab
$ cp /etc/ipa/ca.crt /etc/pki/ca-trust/source/anchors/ipa.crt
$ update-ca-trust enable &amp;&amp; update-ca-trust
$ systemctl restart foreman-proxy
</code></pre>
<p>Test the keytab is present.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ sudo -u foreman-user kinit -k -t /etc/foreman-proxy/freeipa.keytab foreman-user
</code></pre></div><p>You should now be able to select your realm in the Foreman webui</p>
<blockquote>
<p><em>Infrastructure</em> =&gt; <em>Realms</em></p>
</blockquote>
<p>Ensure your provisioning template calls the <code>freeipa_register</code> snippet. Read over the snippet to see optional host parameters you may set.</p>
<p><em>If you are using FreeIPA as your DNS server and you would like the records automatically updated, set the following host parameter:</em></p>
<blockquote>
<p><code>Name: </code>freeipa_opts Value: ÃŽ-enable-dns-updates`</p>
</blockquote>
<p><em>If you are using the automount feature of FreeIPA:</em></p>
<blockquote>
<p><code>Name: freeipa_automount Value: true</code></p>
</blockquote>
<p>Now when you create a host, as long as you have your realm selected, it should automatically join the realm and register with the server.</p>

    </div>
  
</div>

<div class="pagination">
  
  <span class="pagination-item older">Older</span>
  

  
  <span class="pagination-item newer">Newer</span>
  
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>
    
  </body>
</html>

